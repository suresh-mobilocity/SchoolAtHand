var apiKey="9cf8d9c7f3f072b1",baseUrl="http://api.wunderground.com/api/"+apiKey+"/conditions/q/",weather,temp_f,humidity,uv,icon_url,weatherView=Ti.UI.createView({layout:"vertical",top:"2%",height:"30%",width:"34%",right:"2%",backgroundColor:"#33B5E5",borderRadius:8}),xhr=Titanium.Network.createHTTPClient({onload:function(){var e=JSON.parse(this.responseText);weather=e.current_observation.weather,temp_f=e.current_observation.temp_f,humidity=e.current_observation.relative_humidity,uv=e.current_observation.UV,icon_url=e.current_observation.icon_url;var t=Ti.UI.createLabel({text:weather,font:{fontSize:"10dp",fontWeight:"bold"},height:"auto",left:"10dp",color:"white",touchEnabled:!1}),i=Ti.UI.createLabel({text:"T:"+temp_f+"F  H:"+humidity+" UV: "+uv,font:{fontSize:"10dp",fontWeight:"bold"},height:"auto",left:"10dp",color:"white",touchEnabled:!1}),o=Ti.UI.createImageView({image:icon_url,height:50,width:50});weatherView.add(t),weatherView.add(o),weatherView.add(i)},onerror:function(e){Ti.API.debug("STATUS: "+this.status),Ti.API.debug("TEXT:   "+this.responseText),Ti.API.debug("ERROR:  "+e.error),alert("There was an error retrieving the remote data. Try again.")},timeout:5e3});exports.fillWeatherReport=function(e,t){var i=baseUrl+t+"/"+e.replace(" ","_")+".json";weatherView.removeAllChildren(),xhr.open("GET",i),xhr.send();var o=Ti.UI.createLabel({text:e+" "+t,font:{fontSize:"10dp",fontWeight:"bold"},height:"auto",left:"10dp",color:"white",touchEnabled:!1});return weatherView.add(o),weatherView};