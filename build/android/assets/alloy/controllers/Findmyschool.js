function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Findmyschool",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var e=this,t={};e.__views.findMySchoolWindow=Ti.UI.createWindow({backgroundColor:"#fff",layout:"vertical",id:"findMySchoolWindow",title:"Check School Allotment"}),e.__views.findMySchoolWindow&&e.addTopLevelView(e.__views.findMySchoolWindow),e.__views.findMySchoolView=Ti.UI.createView({layout:"vertical",backgroundColor:"#E3E3E3",borderColor:"gray",borderWidth:2,borderRadius:16,left:5,top:5,right:5,height:Ti.UI.SIZE,id:"findMySchoolView"}),e.__views.findMySchoolWindow.add(e.__views.findMySchoolView),e.__views.streetnamelabel=Ti.UI.createLabel({left:5,top:5,right:5,height:Ti.UI.SIZE,id:"streetnamelabel",text:"Enter Street Name",textAlign:"left"}),e.__views.findMySchoolView.add(e.__views.streetnamelabel),e.__views.inputView=Ti.UI.createView({layout:"horizontal",backgroundColor:"lightgray",top:5,height:50,id:"inputView"}),e.__views.findMySchoolView.add(e.__views.inputView),e.__views.streetNameInput=Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,color:"black",top:5,left:5,width:250,height:40,id:"streetNameInput"}),e.__views.inputView.add(e.__views.streetNameInput),e.__views.schoolFinderButton=Ti.UI.createButton({backgroundColor:"#336699",width:75,height:50,font:{fontSize:12,fontWeight:"bold"},color:"white",bottom:"50dp",id:"schoolFinderButton",title:"Check"}),e.__views.inputView.add(e.__views.schoolFinderButton),e.__views.listOfSchoolsByStreet=Ti.UI.createTableView({separatorColor:"#336699",height:Ti.UI.SIZE,backgroundColor:"#E3E3E3",top:0,borderColor:"gray",borderWidth:2,layout:"veritcal",id:"listOfSchoolsByStreet",title:"List of Schools for St:",visible:"false"}),e.__views.findMySchoolView.add(e.__views.listOfSchoolsByStreet),t.destroy=function(){},_.extend(e,e.__views);var i=arguments[0]||{};e.parentController=i.parentTab,e.findMySchoolWindow.title="School Allotment",e.schoolFinderButton.addEventListener("click",function(){e.streetNameInput.blur();var t="SELECT street, elementary, middle FROM schoolallotment WHERE street LIKE '"+e.streetNameInput.value+"%'",i=schoolDB.execute(t),o=[];if(i.getRowCount()>0){for(var n=0;i.isValidRow();){n++;var r=i.fieldByName("street"),a=i.fieldByName("elementary"),l=i.fieldByName("middle"),s=Ti.UI.createTableViewRow({layout:"vertical",height:80}),c=Ti.UI.createView({layout:"vertical",backgroundColor:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT}),d=Ti.UI.createLabel({left:5,text:n+"."+r,font:{fontSize:18,fontWeight:"normal"},height:Ti.UI.SIZE});c.add(d);var _=Ti.UI.createLabel({left:30,text:a+" Elementary School",font:{fontSize:14,fontWeight:"normal"},color:"blue",height:Ti.UI.SIZE});c.add(_);var u=Ti.UI.createLabel({left:30,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:l+" Middle School",font:{fontSize:14,fontWeight:"normal"},color:"blue",height:Ti.UI.SIZE});c.add(u),s.add(c),o.push(s),i.next()}i.close()}else{var s=Ti.UI.createTableViewRow({layout:"vertical",height:80}),c=Ti.UI.createView({layout:"vertical",backgroundColor:"transparent",borderColor:"gray",borderWidth:2,textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT}),h=Ti.UI.createLabel({left:5,text:" No matching streets found",font:{fontSize:18,fontWeight:"normal"},height:Ti.UI.SIZE});c.add(h),s.add(c),o.push(s)}e.listOfSchoolsByStreet.setVisible(!0),e.listOfSchoolsByStreet.title="List of Schools for St: "+r,e.listOfSchoolsByStreet.data=o}),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;