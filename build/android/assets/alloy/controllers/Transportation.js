function Controller(){function e(){o.phonelabel.text.replace(/[^0-9]/g,""),Ti.Platform.openURL("tel:7322977800,,,,5108")}function t(){var e="SELECT * from departments where name like '%Transportation%'",t=schoolDB.execute(e);t.getRowCount()>0&&t.isValidRow()&&(o.addresslabel.text=t.fieldByName("address"),o.citylabel.text=t.fieldByName("city"),o.stateandziplabel.text=t.fieldByName("stateandzipcode"),o.phonelabel.text=t.fieldByName("phoneno"),o.supervisorname.text=t.fieldByName("contactname1"),s=t.fieldByName("emailaddr1"),o.secretaryname.text=t.fieldByName("contactname2"),n=t.fieldByName("emailaddr2"),t.close())}function i(){o.transportationWindow.removeEventListener("close",i),o.destroy(),o.transportationWindow.removeAllChildren(),o=null}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Transportation",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var o=this,l={},a={};o.__views.transportationWindow=Ti.UI.createWindow({backgroundColor:"white",title:"Transportation",layout:"vertical",id:"transportationWindow"}),o.__views.transportationWindow&&o.addTopLevelView(o.__views.transportationWindow);var r=[];o.__views.department=Ti.UI.createTableViewRow({layout:"vertical",width:Ti.UI.FILL,height:80,left:"2%",right:"2%",id:"department"}),r.push(o.__views.department),o.__views.namelabel=Ti.UI.createLabel({font:{fontWeight:"normal",fontSize:18},color:"black",height:Ti.UI.SIZE,id:"namelabel",text:"Department of Transportation"}),o.__views.department.add(o.__views.namelabel),o.__views.contactsView=Ti.UI.createView({id:"contactsView",layout:"horizontal",height:Ti.UI.SIZE}),o.__views.department.add(o.__views.contactsView),o.__views.address=Ti.UI.createView({id:"address",layout:"vertical",width:"200",height:Ti.UI.SIZE,top:"2"}),o.__views.contactsView.add(o.__views.address),o.__views.addresslabel=Ti.UI.createLabel({font:{fontSize:14},color:"#000",id:"addresslabel",left:"10"}),o.__views.address.add(o.__views.addresslabel),o.__views.citylabel=Ti.UI.createLabel({font:{fontSize:14},color:"#000",id:"citylabel",left:"10"}),o.__views.address.add(o.__views.citylabel),o.__views.stateandziplabel=Ti.UI.createLabel({font:{fontSize:14},color:"#000",id:"stateandziplabel",left:"10"}),o.__views.address.add(o.__views.stateandziplabel),o.__views.phonelabel=Ti.UI.createLabel({font:{fontSize:14},color:"#000",id:"phonelabel",left:"10"}),o.__views.address.add(o.__views.phonelabel),e?o.__views.phonelabel.addEventListener("click",e):a["$.__views.phonelabel!click!dialPhoneNumber"]=!0,o.__views.Buttons=Ti.UI.createView({id:"Buttons",top:"20",left:"10",width:Ti.UI.SIZE,height:Ti.UI.SIZE}),o.__views.contactsView.add(o.__views.Buttons),o.__views.phonebutton=Ti.UI.createButton({width:32,height:32,backgroundImage:"/images/phone.png",id:"phonebutton"}),o.__views.Buttons.add(o.__views.phonebutton),e?o.__views.phonebutton.addEventListener("click",e):a["$.__views.phonebutton!click!dialPhoneNumber"]=!0,o.__views.supervisorView=Ti.UI.createTableViewRow({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.SIZE,left:"5%",right:"5%",top:5,id:"supervisorView"}),r.push(o.__views.supervisorView),o.__views.supervisorlabel=Ti.UI.createLabel({font:{fontWeight:"normal",fontSize:18},color:"black",height:Ti.UI.SIZE,id:"supervisorlabel",top:"10",text:"Supervisor of Transportation"}),o.__views.supervisorView.add(o.__views.supervisorlabel),o.__views.supervisor=Ti.UI.createView({top:5,height:32,layout:"horizontal",id:"supervisor"}),o.__views.supervisorView.add(o.__views.supervisor),o.__views.supervisorname=Ti.UI.createLabel({font:{fontWeight:"normal",fontSize:14},color:"blue",left:"5%",height:Ti.UI.SIZE,width:100,id:"supervisorname"}),o.__views.supervisor.add(o.__views.supervisorname),o.__views.emailsupervisor=Ti.UI.createButton({left:50,height:32,width:32,backgroundImage:"/images/email.png",id:"emailsupervisor"}),o.__views.supervisor.add(o.__views.emailsupervisor),o.__views.secretaryView=Ti.UI.createTableViewRow({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.SIZE,left:"5%",right:"5%",top:5,id:"secretaryView"}),r.push(o.__views.secretaryView),o.__views.secretarylabel=Ti.UI.createLabel({font:{fontWeight:"normal",fontSize:18},color:"black",height:Ti.UI.SIZE,id:"secretarylabel",text:"Transportation Secretary"}),o.__views.secretaryView.add(o.__views.secretarylabel),o.__views.secretary=Ti.UI.createView({top:5,height:Ti.UI.SIZE,layout:"horizontal",id:"secretary"}),o.__views.secretaryView.add(o.__views.secretary),o.__views.secretaryname=Ti.UI.createLabel({font:{fontWeight:"normal",fontSize:14},color:"blue",left:"5%",height:Ti.UI.SIZE,width:100,id:"secretaryname"}),o.__views.secretary.add(o.__views.secretaryname),o.__views.emailsecretary=Ti.UI.createButton({left:50,height:32,width:32,backgroundImage:"/images/email.png",id:"emailsecretary"}),o.__views.secretary.add(o.__views.emailsecretary),o.__views.__alloyId89=Ti.UI.createTableView({separatorColor:"#000000",height:Ti.UI.SIZE,backgroundColor:"#33B5E5",data:r,id:"__alloyId89"}),o.__views.transportationWindow.add(o.__views.__alloyId89),l.destroy=function(){},_.extend(o,o.__views);var n="",s="";t(),o.emailsupervisor.addEventListener("click",function(){var e=o.supervisorname.text.split(" ",2),t="",i="SELECT emailaddr from contacts where name like '"+e[1]+" "+e[0]+"'",l=schoolDB.execute(i);l.getRowCount()>0&&l.isValidRow()&&(t=l.fieldByName("emailaddr"),l.close());var a=Ti.UI.createEmailDialog();a.subject="Hello",a.toRecipients=[t],a.open()}),o.emailsecretary.addEventListener("click",function(){var e=Ti.UI.createEmailDialog();e.subject="Hello",e.toRecipients=[n],e.open()});var d=Admob.createView({publisherId:"ca-app-pub-3665132116722377/6561150840",testing:!1,bottom:0,adBackgroundColor:"FF8855",backgroundColorTop:"738000",borderColor:"#000000",textColor:"#000000",urlColor:"#00FF00",linkColor:"#0000FF"});o.transportationWindow.add(d),o.transportationWindow.addEventListener("close",i),a["$.__views.phonelabel!click!dialPhoneNumber"]&&o.__views.phonelabel.addEventListener("click",e),a["$.__views.phonebutton!click!dialPhoneNumber"]&&o.__views.phonebutton.addEventListener("click",e),_.extend(o,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;