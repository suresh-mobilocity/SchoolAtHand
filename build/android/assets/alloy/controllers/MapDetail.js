function Controller(){function e(){t.mapWindow.removeEventListener("close",e),t.destroy(),t.mapWindow.removeAllChildren(),t=null}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="MapDetail",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var t=this,i={};t.__views.mapWindow=Ti.UI.createWindow({backgroundColor:"#fff",title:"School Location",barColor:"#6d0a0c",id:"mapWindow"}),t.__views.mapWindow&&t.addTopLevelView(t.__views.mapWindow),t.__views.mapView=MapModule.createView({mapType:1,animate:!0,regionFit:!0,userLocation:"true",userLocationButton:!0,annotations:[],ns:"MapModule",id:"mapView",opacity:"1"}),t.__views.mapWindow.add(t.__views.mapView),i.destroy=function(){},_.extend(t,t.__views);var o=arguments[0]||{};t.mapWindow.title=o.data.name;var n=MapModule.isGooglePlayServicesAvailable();n!=MapModule.SUCCESS&&alert("Google Play Services is not installed/updated/available");var r=MapModule.createAnnotation({latitude:o.data.latitude,longitude:o.data.longitude,title:o.data.name,subtitle:o.data.address1+"\n"+o.data.city+"\n"+o.data.state+" "+o.data.zipcode,pincolor:MapModule.ANNOTATION_VIOLET,animate:!0});t.mapView.addAnnotation(r),t.mapView.addEventListener("click",function(e){Ti.Platform.openURL("Maps://?daddr="+e.source.latitude+","+e.source.longitude)}),t.mapView.setRegion({latitude:o.data.latitude,longitude:o.data.longitude,title:o.data.name,latitudeDelta:.05,longitudeDelta:.05}),t.mapWindow.addEventListener("close",e),_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;